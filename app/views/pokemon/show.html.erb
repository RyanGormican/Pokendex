<!-- app/views/pokemon/show.html.erb -->

<!DOCTYPE html>
<html>
<head>
  <title><%= @pokemon_details['name'].capitalize %></title>
  <style>
    
  </style>
</head>
<body>
  <div class="center">
    <a href="/pokemon" class="dex-link">Dex</a>
    <h1><%= @pokemon_details['name'].capitalize %></h1>
  </div>
  <% pokemon_name = @pokemon_details['name'] %>\
  <% pokemon_image_url = @pokemon_details['sprites']['other']['official-artwork']['front_default'] %>
  <div class="center">
    <a>
      <img src="<%= pokemon_image_url %>" alt="<%= @pokemon_details['name'].capitalize %>">
    </a>
   <table>
  <tr>
    <th colspan="<%= @pokemon_details['types'].length %>">Type</th>
  </tr>
  <tr>
    <% @pokemon_details['types'].each do |type| %>
      <td class="type-<%= type['type']['name'].downcase %>"><%= type['type']['name'].capitalize %></td>
    <% end %>
  </tr>
</table>
<table>
  <tr>
    <th colspan="3">Abilities</th>
  </tr>
  <% @pokemon_details['abilities'].each do |ability_data| %>
    <tr>
      <td>
        <%= ability_data['ability']['name'].capitalize %>
        <% flavor_text = fetch_flavor_text(ability_data['ability']['url']) %>
          <%= flavor_text ? " - #{flavor_text}" : '' %>
        <% if ability_data['is_hidden'] %>
          (Hidden Ability)

        <% end %>
      </td>
    </tr>
  <% end %>
</table>

    <table>
      <tr>
        <th colspan="3">Stats</th>
      </tr>
      <% @pokemon_details['stats'].each do |stat| %>
      
<tr class="stat-<%= stat['stat']['name'].downcase %>">
  <td><%= stat['stat']['name'].split('-').map(&:capitalize).join(' ') %></td>
  <td><%= stat['base_stat'] %></td>
</tr>
      <% end %>
    </table>
  </div>
</body>
</html>
